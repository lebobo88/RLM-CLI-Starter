{
  "experimental": {
    "enableAgents": true
  },
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "name": "rlm-session-start",
            "type": "command",
            "command": ".gemini/hooks/session-start.sh",
            "timeout": 15000
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "name": "rlm-session-end",
            "type": "command",
            "command": ".gemini/hooks/session-end.sh",
            "timeout": 15000
          }
        ]
      }
    ],
    "BeforeTool": [
      {
        "matcher": "run_shell_command",
        "hooks": [
          {
            "name": "rlm-pre-tool-safety",
            "type": "command",
            "command": ".gemini/hooks/pre-tool-safety.sh",
            "timeout": 10000
          }
        ]
      },
      {
        "matcher": "write_file|replace",
        "hooks": [
          {
            "name": "rlm-pre-tool-safety-edit",
            "type": "command",
            "command": ".gemini/hooks/pre-tool-safety-edit.sh",
            "timeout": 10000
          }
        ]
      }
    ],
    "AfterTool": [
      {
        "matcher": "run_shell_command|write_file|replace",
        "hooks": [
          {
            "name": "rlm-post-tool-log",
            "type": "command",
            "command": ".gemini/hooks/post-tool-log.sh",
            "timeout": 10000
          }
        ]
      },
      {
        "matcher": "write_file|replace",
        "hooks": [
          {
            "name": "rlm-post-state-write-verify",
            "type": "command",
            "command": ".gemini/hooks/post-state-write-verify.sh",
            "timeout": 10000
          },
          {
            "name": "rlm-task-completed",
            "type": "command",
            "command": ".gemini/hooks/task-completed.sh",
            "timeout": 15000
          }
        ]
      }
    ],
    "BeforeAgent": [
      {
        "hooks": [
          {
            "name": "rlm-agent-log",
            "type": "command",
            "command": ".gemini/hooks/agent-log.sh",
            "timeout": 5000
          }
        ]
      }
    ],
    "AfterAgent": [
      {
        "hooks": [
          {
            "name": "rlm-agent-log",
            "type": "command",
            "command": ".gemini/hooks/agent-log.sh",
            "timeout": 5000
          },
          {
            "name": "rlm-after-agent",
            "type": "command",
            "command": ".gemini/hooks/after-agent.sh",
            "timeout": 10000
          }
        ]
      }
    ]
  }
}
